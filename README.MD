# ğŸ” generate_shared_ssh_key.sh

Este script genera una **clave SSH compartida** para ser utilizada con todas tus mÃ¡quinas virtuales del clÃºster (Flatcar, CoreOS, etc.).

Ideal para entornos automatizados con Terraform, Ansible o configuraciÃ³n manual.

---

## âœ… Â¿QuÃ© hace?

- Genera una nueva clave SSH RSA (2048 bits).
- Guarda la clave privada y pÃºblica en:
  - ğŸ” `/root/.ssh/cluster_openshift/shared/id_rsa_shared_cluster`
  - ğŸ”“ `/root/.ssh/cluster_openshift/shared/id_rsa_shared_cluster.pub`
- Te muestra la clave pÃºblica para que la puedas copiar fÃ¡cilmente.

---

## ğŸ’¡ CÃ³mo usarlo

```bash
chmod +x generate_shared_ssh_key.sh
sudo ./generate_shared_ssh_key.sh
```

---

## ğŸ“ Archivos generados

| Tipo       | Ruta                                                                 |
|------------|----------------------------------------------------------------------|
| ğŸ” Privada | `/root/.ssh/cluster_openshift/shared/id_rsa_shared_cluster`         |
| ğŸ”“ PÃºblica | `/root/.ssh/cluster_openshift/shared/id_rsa_shared_cluster.pub`     |

---

## ğŸ§© Â¿Y luego quÃ©?

### Si usas **Terraform**:
1. Copia el contenido de la clave pÃºblica generada.
2. PÃ©gala en el archivo `terraform.tfvars` asÃ­:

```hcl
ssh_keys = ["ssh-rsa AAAAB3Nza... tu_clave_aquÃ­ ... vhgalvez@gmail.com"]
```

### Si usas **Ansible**:
Usa un playbook para distribuir la nueva clave a todas las VMs en `/home/core/.ssh/authorized_keys`.

Â¿Necesitas un ejemplo de playbook para eso? Â¡PÃ­delo! ğŸ˜‰

---

## âœï¸ Autor

- âœ‰ï¸ [vhgalvez@gmail.com](mailto:vhgalvez@gmail.com)
- ğŸ› ï¸ Proyecto: `cluster_openshift`
